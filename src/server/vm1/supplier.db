{ UID: uid-effd-6dad-dac9-c520
  Version: 14616
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable gui
  title: "Application for Finance; Passport Details"
  view: {
    nationality: {
      input: chooser
      label: Nationality
      range: { UK: UK US: US EU: "Other European" }
    }
    passport-number: { input: textfield label: "Passport Number" }
    expiry-date: { input: textfield label: Expires }
    biometric: { input: checkbox label: "Is Biometric?" }
  }
}

{ UID: uid-9f27-f343-bd59-ec2d
  Version: 81932
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable order-tracker rule
  status: waiting
  products: => @order:products
  price: => @order:products:quantity * 3.60
}

{ UID: uid-adf4-0bb3-b481-42a2
  Version: 11
  Max-Age: 0
  Cache-Notify: c-n-db59-ba1f-cdbe-34af
  Class: cyrus.forest.WebObject
  is: contact
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-db59-ba1f-cdbe-34af
  within: uid-d4c5-7649-fc69-5a8e
  full-name: "Duncan Cragg"
  birthday: 1-1-84
  gender: F
  email: amazon@cilux.org
}

{ UID: uid-ccb8-43de-df47-29da
  Version: 40395
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable gui
  title: Render
  view: 
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
      }
      { view: open item: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-295d-f714-9a6b-42d6.json
      }
      { view: open item: http://localhost:8081/o/uid-295d-f714-9a6b-42d6.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-329e-78ae-c94e-17bf.json
      }
      { view: open item: http://localhost:8081/o/uid-329e-78ae-c94e-17bf.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-effd-6dad-dac9-c520.json
      }
      { view: open item: http://localhost:8081/o/uid-effd-6dad-dac9-c520.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-1975-15a2-3d64-0fc9.json
      }
      { view: open item: http://localhost:8081/o/uid-1975-15a2-3d64-0fc9.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-3c83-a59f-ccd1-3b6a.json
      }
      { view: open item: http://localhost:8081/o/uid-3c83-a59f-ccd1-3b6a.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-4326-fef5-2342-ef05.json
      }
      { view: open item: http://localhost:8081/o/uid-4326-fef5-2342-ef05.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8082/o/uid-fbdc-b069-e5b0-2df9.json
      }
      { view: open item: http://localhost:8082/o/uid-fbdc-b069-e5b0-2df9.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-28a2-d3b1-4aea-86e8.json
      }
      { view: open item: http://localhost:8081/o/uid-28a2-d3b1-4aea-86e8.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json
      }
      { view: open item: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json }
    )
    (
      { is: style direction: horizontal }
      {
        view: open raw
        item: http://localhost:8081/o/uid-0542-777b-20be-5b5c.json
      }
      { view: open item: http://localhost:8081/o/uid-0542-777b-20be-5b5c.json }
    )
  Rules: 
    {
      is: gui rule
      view: 
        newob
        =>
        (
          { is: style direction: horizontal }
          {
            view: open raw
            item: {
              UID: new
              is: editable gui
              view: Hiyaaa
            }
          }
          { view: open item: xxx }
        )
    }
    {
      is: gui rule
      view: (
          {
            view: open raw
            item: uid
          }
          {
            view: open
            item: xxx => @=view:1:item
          }
        )
    }
}

{ UID: uid-7953-ce63-f3d9-0a1e
  Version: 1
  Max-Age: 0
  Cache-Notify: c-n-db59-ba1f-cdbe-34af
  Class: cyrus.forest.WebObject
  is: contact
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-db59-ba1f-cdbe-34af
  within: null
  full-name: "Duncan Cragg"
  birthday: 1-1-64
  gender: M
  email: duncan@cilux.org
}

{ UID: uid-2125-e439-25de-ab78
  Version: 1
  Max-Age: 0
  Cache-Notify: c-n-a1be-e02d-8b7f-84e1
  Class: cyrus.forest.WebObject
  is: contact
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-a1be-e02d-8b7f-84e1
  within: null
  full-name: "Duncan Cragg"
  birthday: 1-1-64
  gender: M
  email: duncan@cilux.org
}

{ UID: uid-1f81-c426-8ee5-67ae
  Version: 15385
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable gui
  view: {
    name: { input: textfield label: "Course Title" }
    institution: {
      input: chooser
      label: "Institution, University"
      range: { UCL: UCL ICL: Imperial }
    }
    year-of-study: {
      input: chooser
      label: "Year of Study"
      range: { 2014: 2014 2015: 2015 }
    }
  }
}

{ UID: uid-edbf-edcc-f4a2-8b6c
  Version: 10416
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable order-tracker rule
  status: # => waiting
  Timer: => 15000
  Notifying: => @. with @order
  within: => #
}

{ UID: uid-d823-4d56-8d97-44c6
  Version: 75319
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
is: deleted }

{ UID: uid-4c27-faa8-f002-a845
  Version: 30780
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable coffee order-tracker
  Rules: 
    http://localhost:8081/o/uid-edbf-edcc-f4a2-8b6c.json
    http://localhost:8081/o/uid-9f27-f343-bd59-ec2d.json
    http://localhost:8081/o/uid-9877-4ff3-e138-011c.json
    http://localhost:8081/o/uid-d7e7-2923-4f26-57f9.json
  order: http://localhost:8081/o/uid-730e-359f-2a30-a71e.json
  status: filled
  products: {
    product: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json
    quantity: 2
    shots: 1
    ristretto: true
  }
  price: 7.2
}

{ UID: uid-d7e7-2923-4f26-57f9
  Version: 64809
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable order-tracker rule
  status: 
    not
    waiting
    =>
    if
    ( @order:products == @products )
    then
    filled
    else
    ( filled not-as-ordered )
}

{ UID: uid-a24d-663f-0222-f925
  Version: 68028
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable student-finance application
  Rules: http://localhost:8081/o/uid-a80c-6976-80e9-9c30.json
  products: { contact: uid-c29c-4fc1-c6f0-0558 }
  within: uid-b280-0fea-7cc7-e0a3
}

{ UID: uid-28a2-d3b1-4aea-86e8
  Version: 35593
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable coffee shop supplier
  title: "Coffee Ar Us"
  Rules: http://localhost:8081/o/uid-cfa2-3a18-d548-e7b4.json
  products: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json
  trackers: ( uid-529d-4e36-a2df-c535 )
}

{ UID: uid-529d-4e36-a2df-c535
  Version: 59870
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable coffee order-tracker
  Rules: 
    http://localhost:8081/o/uid-edbf-edcc-f4a2-8b6c.json
    http://localhost:8081/o/uid-9f27-f343-bd59-ec2d.json
    http://localhost:8081/o/uid-9877-4ff3-e138-011c.json
    uid-d7e7-2923-4f26-57f9
  order: uid-730e-359f-2a30-a71e
  status: filled
  products: {
    product: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json
    quantity: 1
    ristretto: false
  }
  price: 3.6
}

{ UID: uid-3c83-a59f-ccd1-3b6a
  Version: 22353
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable passport document
  nationality: British
  number: 765432
  expiry-date: 2019-08-09
  type: biometric
  within: http://localhost:8081/o/uid-4326-fef5-2342-ef05.json
}

{ UID: uid-4326-fef5-2342-ef05
  Version: 46070
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable finance application
  title: "Application form, order for finance"
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  products: {
    product: http://localhost:8081/o/uid-295d-f714-9a6b-42d6.json
    contact: http://localhost:8081/o/uid-1975-15a2-3d64-0fc9.json
    passport: http://localhost:8081/o/uid-3c83-a59f-ccd1-3b6a.json
    course-of-study: { name: "Advanced English" institution: UCL }
    year-of-study: 2014
  }
  assessment: http://localhost:8082/o/uid-fbdc-b069-e5b0-2df9.json
}

{ UID: uid-d19a-6ba4-7833-ed09
  Version: 74680
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable student-finance application
  Rules: http://localhost:8081/o/uid-a80c-6976-80e9-9c30.json
  products: { contact: uid-7953-ce63-f3d9-0a1e }
  within: uid-b280-0fea-7cc7-e0a3
}

{ UID: uid-2a0d-ec44-cc66-e804
  Version: 45724
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable student-finance application
  Rules: http://localhost:8081/o/uid-a80c-6976-80e9-9c30.json
  products: { contact: uid-adf4-0bb3-b481-42a2 }
  within: uid-b280-0fea-7cc7-e0a3
}

{ UID: uid-a80c-6976-80e9-9c30
  Version: 43197
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable application rule
  products: { contact: * }
  Notifying: => @. with @products:contact
}

{ UID: uid-ea76-91ce-b228-04db
  Version: 1
  Max-Age: 0
  Cache-Notify: c-n-db59-ba1f-cdbe-34af
  Class: cyrus.forest.WebObject
  is: passport
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-db59-ba1f-cdbe-34af
  within: uid-d4c5-7649-fc69-5a8e
  nationality: UK
  number: sdfaf
  expiry-date: 31231
  type: biometric
}

{ UID: uid-7a6f-2f0d-e206-18cd
  Version: 49535
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
is: deleted }

{ UID: uid-5754-bd80-998d-db05
  Version: 66779
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable student-finance assessment
  application: uid-d4c5-7649-fc69-5a8e
  within: uid-b280-0fea-7cc7-e0a3
}

{ UID: uid-295d-f714-9a6b-42d6
  Version: 77099
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable study-finance product
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  title: "Loan to Study the Arts in Southern England"
  description: "Study a lot of Shakespeare with this loan"
  eligibility: {
    age: 18..
    nationality: UK | "Other European"
  }
  study-finance: { loan-amount: £8300 application-closing-date: 12/7/2014 }
  options: course-of-study year-of-study
  requires: {
    contact: full-name birthday gender email
    passport: nationality number expiry-date type
    funky: arks-this arks-that
    payment: credit-card-number
  }
  order-template: http://localhost:8081/o/uid-329e-78ae-c94e-17bf.json
}

{ UID: uid-7a34-bcaf-88d5-b63e
  Version: 52366
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: gui
  title: "Cyrus Development"
  view: 
    { is: style direction: horizontal }
    {
      view: open raw
      item: uid-ccb8-43de-df47-29da
    }
    { view: open item: uid-ccb8-43de-df47-29da }
}

{ UID: uid-d4c5-7649-fc69-5a8e
  Version: 18
  Max-Age: 0
  Cache-Notify: c-n-db59-ba1f-cdbe-34af
  Class: cyrus.forest.WebObject
  is: order
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-db59-ba1f-cdbe-34af
  products: {
    product: http://localhost:8081/o/uid-295d-f714-9a6b-42d6.json
    quantity: 2
    name: asss
    institution: UCL
    year-of-study: 2014
  }
}

{ UID: http://localhost:8082/o/uid-fbdc-b069-e5b0-2df9.json
  Version: 90599
  Max-Age: 0
  Cache-Notify: http://localhost:8082/o/c-n-0a3a-8cd3-d5c3-ed1c
  Class: cyrus.forest.WebObject
  is: editable study-finance assessment
  case-number: 2222
  products: {
    product: http://localhost:8081/o/uid-295d-f714-9a6b-42d6.json
    contact: http://localhost:8081/o/uid-1975-15a2-3d64-0fc9.json
    passport: http://localhost:8081/o/uid-3c83-a59f-ccd1-3b6a.json
    course-of-study: { name: "Advanced English for Brits" }
    year-of-study: 2014
  }
  application: http://localhost:8081/o/uid-4326-fef5-2342-ef05.json
  created: 2014-03-18T13:38:59.556Z
  status: 
    in-progress
    { passport: ok fee: to-pay }
  study-finance: { university-course-ref: adf923 application-reference: DYQUGDQQ loan-number: N/A }
}

{ UID: uid-1957-202f-7e4f-3781
  Version: 3
  Max-Age: 0
  Cache-Notify: c-n-85da-6aee-1412-b3e2
  Class: cyrus.forest.WebObject
  is: contact
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-85da-6aee-1412-b3e2
  within: null
  gender: none
}

{ UID: uid-55cf-3a97-3896-8527
  Version: 99537
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable supplier rule
  when: "contact received, add application for it"
  Alerted: { is: contact supplier: @ }
  applications: 
    not
    {
      products: { contact: @Alerted }
    }
    =>
    @.
    with
    {
      UID: new
      is: editable student-finance application
      Rules: http://localhost:8081/o/uid-a80c-6976-80e9-9c30.json
      products: { contact: @Alerted }
    }
}

{ UID: uid-9877-4ff3-e138-011c
  Version: 67845
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable order-tracker rule
  Timer: 0 => #
  status: waiting => filled
}

{ UID: uid-b280-0fea-7cc7-e0a3
  Version: 55722
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable study-finance supplier
  Rules: http://localhost:8081/o/uid-55cf-3a97-3896-8527.json
  title: "Loans for Study"
  products: http://localhost:8081/o/uid-295d-f714-9a6b-42d6.json
  applications: ( uid-a24d-663f-0222-f925 )
}

{ UID: uid-06d2-ee10-48b1-396a
  Version: 40102
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable student-finance application
  Rules: 
    http://localhost:8081/o/uid-a80c-6976-80e9-9c30.json
    uid-3970-7257-e6a0-4a63
  products: {
    contact: http://localhost:8081/o/uid-1957-202f-7e4f-3781.json
    passport: uid-f3c3-a410-6581-cc31
  }
  within: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
}

{ UID: uid-329e-78ae-c94e-17bf
  Version: 49465
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable gui
  view: {
    arks-this: { input: textfield label: This }
    arks-that: { input: textfield label: That }
    course-of-study: {
      name: { input: textfield label: "Course Title" }
      institution: {
        input: chooser
        label: "Institution, University"
        range: { UCL: UCL ICL: Imperial }
      }
    }
    year-of-study: {
      input: chooser
      label: "Year of Study"
      range: { 2014: 2014 2015: 2015 }
    }
  }
}

{ UID: uid-730e-359f-2a30-a71e
  Version: 170
  Max-Age: 0
  Cache-Notify: c-n-db59-ba1f-cdbe-34af
  Class: cyrus.forest.WebObject
  is: order
  supplier: http://localhost:8081/o/uid-28a2-d3b1-4aea-86e8.json
  user: ""
  products: {
    product: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json
    quantity: 1
    ristretto: false
  }
}

{ UID: uid-c29c-4fc1-c6f0-0558
  Version: 1
  Max-Age: 0
  Cache-Notify: c-n-ff67-134a-36a9-d686
  Class: cyrus.forest.WebObject
  is: contact
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-ff67-134a-36a9-d686
  within: null
  gender: none
}

{ UID: uid-89bd-3436-376a-1ab8
  Version: 1
  Max-Age: 0
  Cache-Notify: c-n-db59-ba1f-cdbe-34af
  Class: cyrus.forest.WebObject
  is: form
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-db59-ba1f-cdbe-34af
  form: { within: uid-d4c5-7649-fc69-5a8e arks-this: fff arks-that: sss }
}

{ UID: uid-0542-777b-20be-5b5c
  Version: 41159
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable gui
  view: {
    shots: {
      input: textfield
      label: Shots
      range: 1 .. 5
    }
    ristretto: { input: checkbox label: Ristretto }
  }
}

{ UID: uid-3970-7257-e6a0-4a63
  Version: 89074
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable application rule
  Alerted: { is: passport }
  products: {
    passport: => @Alerted
  }
}

{ UID: uid-09c7-983f-5fba-b581
  Version: 1
  Max-Age: 0
  Cache-Notify: c-n-db59-ba1f-cdbe-34af
  Class: cyrus.forest.WebObject
  is: payment
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-db59-ba1f-cdbe-34af
  within: uid-d4c5-7649-fc69-5a8e
  credit-card-number: 12313123
}

{ UID: uid-1975-15a2-3d64-0fc9
  Version: 62448
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable contact
  name: { given: Stew family: Dent }
  birthday: 1984-08-12
  gender: M
  email: stewart.dent@gmail.com
  within: http://localhost:8081/o/uid-4326-fef5-2342-ef05.json
}

{ UID: uid-cfa2-3a18-d548-e7b4
  Version: 20952
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable coffee shop supplier rule
  when: "new order received, add tracker for it"
  Alerted: { is: order supplier: @ }
  trackers: 
    not
    { order: @Alerted }
    =>
    @.
    with
    {
      UID: new
      is: editable coffee order-tracker
      Rules: 
        http://localhost:8081/o/uid-edbf-edcc-f4a2-8b6c.json
        http://localhost:8081/o/uid-9f27-f343-bd59-ec2d.json
        http://localhost:8081/o/uid-9877-4ff3-e138-011c.json
        uid-d7e7-2923-4f26-57f9
      order: @Alerted
    }
}

{ UID: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json
  Version: 63088
  Max-Age: 0
  Cache-Notify: http://localhost:8082/o/c-n-0a3a-8cd3-d5c3-ed1c
  Class: cyrus.forest.WebObject
  is: editable coffee product
  supplier: http://localhost:8081/o/uid-28a2-d3b1-4aea-86e8.json
  title: Espresso
  description: "A shot of pure coffee"
  options: shots ristretto
  requires: payment
  order-template: http://localhost:8081/o/uid-0542-777b-20be-5b5c.json
  coffee: { price-text: "£1.50 single £2.50 double" }
}

{ UID: uid-f3c3-a410-6581-cc31
  Version: 2
  Max-Age: 0
  Cache-Notify: c-n-85da-6aee-1412-b3e2
  Class: cyrus.forest.WebObject
  is: passport
  supplier: http://localhost:8081/o/uid-b280-0fea-7cc7-e0a3.json
  user: uid-85da-6aee-1412-b3e2
  within: null
  nationality: none
  type: normal
}

{ UID: uid-08e3-fb00-a339-558b
  Version: 47256
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable student-finance application
  Rules: http://localhost:8081/o/uid-a80c-6976-80e9-9c30.json
  products: { contact: uid-2125-e439-25de-ab78 }
  within: uid-b280-0fea-7cc7-e0a3
}

{ UID: uid-0abb-d436-0307-a7a7
  Version: 51295
  Max-Age: 0
  Class: cyrus.forest.CyrusLanguage
  is: editable coffee order-tracker
  Rules: 
    http://localhost:8081/o/uid-edbf-edcc-f4a2-8b6c.json
    http://localhost:8081/o/uid-9f27-f343-bd59-ec2d.json
    http://localhost:8081/o/uid-9877-4ff3-e138-011c.json
    uid-d7e7-2923-4f26-57f9
  order: uid-730e-359f-2a30-a71e
  status: filled not-as-ordered
  products: {
    product: http://localhost:8082/o/uid-a4e1-3ab9-be73-f985.json
    quantity: 1
    ristretto: true
  }
  price: 3.6
}

