{ "%uid": "uid-f862-56af-d46d-c440",
  "%class": "netmash.forest.ObjectMash",
  "is": [ "place", "3d", "mesh", "editable" ],
  "title": "Your Room",
  "subObjects": [
    { "object": "uid-f6c8-2d51-8060-a52a", "coords": [  0,    1,  -10 ] },
    { "object": "uid-20ce-d0b1-c717-3dbb", "coords": [  0,    0,   -7 ] },
    { "object": "http://10.0.2.2:8082/o/uid-c058-2db1-0b26-8f48.json", "coords": [  4,  0,  -7 ] },
    { "object": "http://10.0.2.2:8082/o/uid-c058-2db1-0b26-8f48.json", "coords": [ -4,  0,  -7 ] },
    { "object": "http://10.0.2.2:8082/o/uid-c058-2db1-0b26-8f48.json", "coords": [  0,  4,  -7 ] },
    { "object": "http://10.0.2.2:8081/o/uid-1e51-f298-5f55-6caa.json", "coords": [  0,  0, -30 ] }
  ],
  "vertices": [ [  20.0,  -1.0, -20.0 ], [  20.0,  -1.0,  20.0 ], [ -20.0,  -1.0,  20.0 ], [ -20.0,  -1.0, -20.0 ], [  20.0,  20.0, -20.0 ], [  20.0,  20.0,  20.0 ], [ -20.0,  20.0,  20.0 ], [ -20.0,  20.0, -20.0 ] ],
  "texturepoints": [ [ 0.0, 0.0 ], [ 5.0, 0.0 ], [ 5.0, 5.0 ], [ 0.0, 5.0 ] ],
  "normals": [ [ 1.0, 0.0, 0.0 ], [ -1.0, 0.0, 0.0 ], [ 0.0, 1.0, 0.0 ], [ 0.0, -1.0, 0.0 ], [ 0.0, 0.0, 1.0 ], [ 0.0, 0.0, -1.0 ] ],
  "faces": [ [ "5/1/5","4/3/5","1/2/5" ], [ "5/1/5","8/4/5","4/3/5" ], [ "3/1/1","8/3/1","7/2/1" ], [ "3/1/1","4/4/1","8/3/1" ], [ "2/1/6","3/4/6","6/2/6" ], [ "6/2/6","3/4/6","7/3/6" ], [ "1/1/2","2/4/2","5/2/2" ], [ "5/2/2","2/4/2","6/3/2" ], [ "5/1/4","6/4/4","8/2/4" ], [ "8/2/4","6/4/4","7/3/4" ], [ "1/1/3","3/3/3","2/2/3" ], [ "1/1/3","4/4/3","3/3/3" ] ],
  "textures": [ "http://www.textures123.com/free-texture/sand/sand-texture4.jpg" ],
  "vertexShader": "http://10.0.2.2:8081/o/uid-ff5d-1ef4-cfa5-5f92.json",
  "fragmentShader": "http://10.0.2.2:8081/o/uid-1ff8-59e9-6dac-9b56.json"
}

{ "%uid": "uid-20ce-d0b1-c717-3dbb",
  "%class": "netmash.forest.ObjectMash",
  "%rules": [ "uid-e6e9-df58-ddab-6eb9" ],
  "is": [ "3d", "cuboid", "editable" ],
  "title": "Light",
  "rotation": [ 0, 45, 0 ],
  "scale": [ 0.3, 0.5, 0.3 ],
  "light": [ 0.5, 0.5, 1.0 ]
}

{ "%uid": "uid-e6e9-df58-ddab-6eb9",
  "is": [ "editable", "rule" ],
  "when": "swiped, change light",
  "%alerted": { "is": "swipe" },
  "light": [ "*", [ "=>", "clamp", 0, 1, [ "$:light:1", "+", "$:%alerted:dx" ] ], [ "=>", "clamp", 0, 1, [ "$:light:2", "+", "$:%alerted:dy" ] ] ]
}

{ "%uid": "uid-f6c8-2d51-8060-a52a",
  "%class": "netmash.forest.ObjectMash",
  "%rules": [ "uid-8f4e-551c-858b-d345", "uid-fb3e-02d3-70bb-916f", "uid-536b-de0b-41db-41d1", "uid-fbd9-4a4d-c3c7-c31f", "uid-a9ff-4a17-9772-3859", "uid-aad5-7236-b521-4780", "uid-0b6a-659e-3561-05b2", "uid-4899-0de2-1bb5-58ba", "uid-3558-f24b-c0c4-d32b" ],
  "is": [ "3d", "notice", "editable" ],
  "title": "Maths Game",
  "text": [ "Light up this fraction:", "-", "-" ],
  "rotation": [ 0, 0, 0 ],
  "scale": [ 1.0, 1.0, 1.0 ],
  "light": [ 0.5, 0.5, 1.0 ],
  "subObjects": [ -2.75, -1.65, -0.55, 0.55, 1.65, 2.75 ],
  "gamerules": [ "uid-1b54-d28a-71dc-5827", "uid-7b1a-4b1d-1424-2818" ],
  "numerator": 3,
  "status": "waiting",
  "lit": 0
}

{ "%uid": "uid-8f4e-551c-858b-d345",
  "is": [ "editable", "rule" ],
  "when": "starting, create lights",
  "subObjects": [ [ "number", "=>",
      { "object":
          { "%uid": "new",
            "%rules": "$:gamerules",
            "is": [ "3d", "cuboid", "editable" ],
            "title": "Game Cube",
            "rotation": [ 0, 0, 0 ],
            "scale": [ 0.5, 0.5, 0.5 ],
            "light": [ 0.0, 0.4, 0.7 ]
          },
        "coords": [ "$:!", -1,  0 ]
      }
  ] ]
}

{ "%uid": "uid-fb3e-02d3-70bb-916f",
  "is": [ "editable", "rule" ],
  "when": "swiped right, set to checking",
  "%alerted": { "is": "swipe", "dx": [ ">", 0 ] },
  "status": [ "=>", "checking" ]
}

{ "%uid": "uid-536b-de0b-41db-41d1",
  "is": [ "editable", "rule" ],
  "when": "swiped left after sorry, set to waiting with old challenge",
  "%alerted": { "is": "swipe", "dx": [ "<", 0 ] },
  "status": [ "sorry", "=>", "waiting" ]
}

{ "%uid": "uid-fbd9-4a4d-c3c7-c31f",
  "is": [ "editable", "rule" ],
  "when": "swiped left after good, set to waiting plus new challenge",
  "%alerted": { "is": "swipe", "dx": [ "<", 0 ] },
  "status": [ "good", "=>", "waiting" ],
  "numerator": [ "=>", "random", 0, 6 ]
}

{ "%uid": "uid-a9ff-4a17-9772-3859",
  "is": [ "editable", "rule" ],
  "when": "waiting, set text to challenge",
  "status": "waiting",
  "text": [ "*", [ "=>", "$:numerator" ], [ "=>", "Swipe right when done ->" ] ],
  "light": [ [ "=>", 0.5  ], [ "=>", 0.5 ], [ "=>", 1.0 ] ]
}

{ "%uid": "uid-aad5-7236-b521-4780",
  "is": [ "editable", "rule" ],
  "when": "checking, set to initial zero",
  "status": "checking",
  "lit": [ "=>", 0 ]
}

{ "%uid": "uid-0b6a-659e-3561-05b2",
  "is": [ "editable", "rule" ],
  "when": "checking, count lit up lights",
  "status": "checking",
  "subObjects": [ { "object": { "light": [ "*", 1, 1 ] } } ],
  "lit": [ "=>", "count", "$::subObjects" ]
}

{ "%uid": "uid-4899-0de2-1bb5-58ba",
  "is": [ "editable", "rule" ],
  "when": "checking, if incorrect, set text",
  "status": [ "checking", "=>", "sorry" ],
  "lit": "!$:numerator",
  "text": [ "*", "*", [ "=>", "Sorry.. Swipe left <-" ] ],
  "light": [ [ "=>", 1.0  ], [ "=>", 0.5 ], [ "=>", 0.5 ] ]
}

{ "%uid": "uid-3558-f24b-c0c4-d32b",
  "is": [ "editable", "rule" ],
  "when": "checking, if correct, set text",
  "status": [ "checking", "=>", "good" ],
  "lit": "$:numerator",
  "text": [ "*", "*", [ "=>", "Good! Swipe left <-" ] ],
  "light": [ [ "=>", 0.5  ], [ "=>", 1.0 ], [ "=>", 0.5 ] ]
}

{ "%uid": "uid-1b54-d28a-71dc-5827",
  "is": [ "editable", "rule" ],
  "when": "swiped down, turn on light",
  "%alerted": { "is": "swipe", "dy": [ ">", 0 ] },
  "light": [ "*", [ "=>", 1  ], [ "=>", 1 ] ]
}

{ "%uid": "uid-7b1a-4b1d-1424-2818",
  "is": [ "editable", "rule" ],
  "when": "swiped up, turn off light",
  "%alerted": { "is": "swipe", "dy": [ "<", 0 ] },
  "light": [ "*", [ "=>", 0.4  ], [ "=>", 0.7 ] ]
}

{ "%uid": "uid-d9e4-4f7c-d9fe-9e7c",
  "%class": "netmash.forest.ObjectMash",
  "%rules":[ "uid-58cb-cc31-1769-c2c4" ],
  "is": [ "gui" ],
  "title": "Local Calculator GUI",
  "view": {
      "#panel": [
        { "#sum": "?[false /boolean;product|sum/ ]?" },
        { "#a":   "?[0 /string/]?" },
        { "#b":   "?[0 /string/]?" },
      ],
      "#result": { "#r": "0" }
  }
}

{ "%uid": "uid-58cb-cc31-1769-c2c4",
  "is": [ "gui", "rule" ],
  "when": "form changes, do sum or product",
  "%alerted": { "is": "form" },
  "view": {
      "#panel": [
        { "#sum": [ "=>", "format", "?[%s /boolean;product|sum/ ]?", "$:%alerted:form:sum" ] },
        { "#a":   [ "=>", "format", "?[%s /string/]?",               "$:%alerted:form:a" ] },
        { "#b":   [ "=>", "format", "?[%s /string/]?",               "$:%alerted:form:b" ] },
      ],
      "#result": { "#r": [ "=>", "$:%alerted:form:a", [ "$:%alerted:form:sum", "chooses", "+", "*" ], "$:%alerted:form:b" ] } }
}

