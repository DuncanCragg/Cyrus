{ "%uid": "uid-1e51-f298-5f55-6caa",
  "%class": "netmash.forest.Fjord",
  "is": [ "3d", "mesh" ],
  "title": "Textured Cube",
  "mesh": {
    "vertices": [
      [  2.0, -2.0, -2.0 ], [  2.0, -2.0,  2.0 ], [ -2.0, -2.0,  2.0 ], [ -2.0, -2.0, -2.0 ],
      [  2.0,  2.0, -2.0 ], [  2.0,  2.0,  2.0 ], [ -2.0,  2.0,  2.0 ], [ -2.0,  2.0, -2.0 ]
    ],
    "texturepoints": [ [ 0.0, 0.0 ], [ 1.0, 0.0 ], [ 1.0, 1.0 ], [ 0.0, 1.0 ] ],
    "normals": [
      [  0.5,  0.5, -0.5 ], [  0.5, -0.5, -0.5 ], [ -0.5, -0.5, -0.5 ], [ -0.5,  0.5, -0.5 ],
      [ -0.5, -0.5,  0.5 ], [ -0.5,  0.5,  0.5 ], [  0.5, -0.5,  0.5 ], [  0.5,  0.5,  0.5 ]
    ],
    "faces": [
      [ "5/1/1","1/2/2","4/3/3" ], [ "5/1/1","4/3/3","8/4/4" ], [ "3/1/5","7/2/6","8/3/4" ],
      [ "3/1/5","8/3/4","4/4/3" ], [ "2/1/7","6/2/8","3/4/5" ], [ "6/2/8","7/3/6","3/4/5" ],
      [ "1/1/2","5/2/1","2/4/7" ], [ "5/2/1","6/3/8","2/4/7" ], [ "5/1/1","8/2/4","6/4/8" ],
      [ "8/2/4","7/3/6","6/4/8" ], [ "1/1/2","2/2/7","3/3/5" ], [ "1/1/2","3/3/5","4/4/3" ]
    ],
    "textures": [ "http://10.0.2.2/netmash.png" ],
    "vertexShader": "uid-ff5d-1ef4-cfa5-5f92",
    "fragmentShader": "uid-6e92-c60d-d16a-6b35",
    "rotation": [ 0, 0, 0 ],
    "scale": [ 1.0, 1.0, 1.0 ]
  }
}

{ "%uid": "uid-ff5d-1ef4-cfa5-5f92",
  "is": [ "3d", "vertex", "shader", "string", "list" ],
  "title": "Phong Vertex Shader",
  "list": [
    "uniform mat4 mvpm;",
    "uniform mat4 norm;",
    "uniform vec4 lightPos;",
    "attribute vec4 pos;",
    "attribute vec3 nor;",
    "attribute vec2 tex;",
    "varying vec3 NN;",
    "varying vec3 LL;",
    "varying vec3 VV;",
    "varying vec2 TT;",
    "void main() {",
      "vec4 glp = mvpm * pos;",
      "vec4 lps = mvpm * lightPos;",
      "NN = vec3(norm * vec4(nor, 1.0));",
      "LL = -lps.xyz;",
      "VV = -glp.xyz;",
      "TT = tex;",
      "gl_Position = glp;",
    "}"
  ]
}

{ "%uid": "uid-6e92-c60d-d16a-6b35",
  "is": [ "3d", "fragment", "shader", "string", "list" ],
  "title": "Phong Fragment Shader",
  "list": [
    "precision mediump float;",
    "uniform vec4  lightCol;",
    "uniform vec4  ambient;",
    "uniform vec4  diffuse;",
    "uniform vec4  specular;",
    "uniform float shininess;",
    "uniform sampler2D texture0;",
    "varying vec3 NN;",
    "varying vec3 LL;",
    "varying vec3 VV;",
    "varying vec2 TT;",
    "void main(){",
      "vec3 N = normalize(NN);",
      "vec3 L = normalize(LL);",
      "vec3 R = reflect(L,N);",
      "vec3 V = normalize(VV);",
      "vec4 T = texture2D(texture0, TT);",
      "vec4 A = ambient * lightCol;",
      "vec4 D = diffuse * max(dot(N, L), 0.0);",
      "vec4 S = specular * pow(max(dot(R, V), 0.0), shininess);",
      "gl_FragColor = T * A + D + S;",
    "}"
  ]
}

{ "%uid": "uid-52f3-5a91-e30f-4ae9",
  "%class": "netmash.forest.Fjord",
  "%rules": [ "uid-b6ba-9745-6a5a-8cf1" ],
  "is": "processor",
  "title": "Droid@Home",
  "fib": "http://10.0.2.2:8081/o/uid-f74b-020f-af28-5671.json",
  "gui": "http://10.0.2.2:8081/o/uid-7756-cb46-4b1b-89cc.json"
}

{ "%uid": "uid-b6ba-9745-6a5a-8cf1",
  "is": [ "processor", "rule" ],
  "when": "fibonacci updates, calculate something",
  "results": "<>sum($:fib:seq:n)",
  "%notifying": "<>has($:gui)"
}

{ "%uid": "uid-4b71-f8d4-c761-be2d",
  "is": "links",
  "title": "More Examples",
  "list" : [ "uid-d9e4-4f7c-d9fe-9e7c",
             "uid-a622-4f18-719f-2903",
             "http://10.0.2.2:8081/o/uid-a205-babf-72a4-1272.json",
             "http://10.0.2.2:8081/o/uid-afcb-9ff0-9270-98b0.json",
             "http://10.0.2.2:8081/o/uid-2a68-0c60-16da-9796.json",
             "http://the-object.net/123-456.json",
             "http://duncan-cragg.org/blog/atom.json",
             "http://10.0.2.2:8080/o/home.json"
  ]
}

{ "%uid": "uid-d9e4-4f7c-d9fe-9e7c",
  "%class": "netmash.forest.Fjord",
  "%rules":[ "uid-58cb-cc31-1769-c2c4",
             "uid-dd6e-1014-fec7-fd87" ],
  "is": [ "gui" ],
  "title": "Local Calculator GUI",
  "view": {
      "#panel": [
        { "#sum": "?[ /boolean;product|sum/ ]?" },
        { "#a": "?[0 /string/]?" },
        { "#b": "?[0 /string/]?" },
      ],
      "#result": { "#r": "0" }
  }
}

{ "%uid": "uid-58cb-cc31-1769-c2c4",
  "is": [ "gui", "rule" ],
  "when": "form changes, do sum",
  "%alerted": { "is": "form", "form": { "sum": true } },
  "view": { "#result":
             { "#r": "<>sum($:%alerted:form:a,$:%alerted:form:b)"}
  }
}

{ "%uid": "uid-dd6e-1014-fec7-fd87",
  "is": [ "gui", "rule" ],
  "when": "form changes, do product",
  "%alerted": { "is": "form", "form": { "sum": false } },
  "view": { "#result":
             { "#r": "<>prod($:%alerted:form:a,$:%alerted:form:b)"}
  }
}

{ "%uid": "uid-a622-4f18-719f-2903",
  "%class": "netmash.forest.Fjord",
  "%rules":[ "uid-1b56-01ce-b820-ee90",
             "http://10.0.2.2:8081/o/uid-5f5d-6d29-64d8-2d8c.json",
             "http://10.0.2.2:8081/o/uid-b3ae-5b55-65ad-a296.json"
   ],
  "is": [ "event", "attendable" ],
  "coord": "http://10.0.2.2:8081/o/uid-b236-2c49-c6f8-fea6.json"
}

{ "%uid": "uid-1b56-01ce-b820-ee90",
  "is": [ "event", "rule" ],
  "when": "articles seen, get titles, dates and make into event",
  "coord": { "articles-a": {} },
  "title": "<>$:coord:articles-a:title",
  "content": "<>join( .. ,Titles:,$:coord:articles-a:list:title)",
  "start": "<>min($:coord:articles-a:list:published)",
  "end": "<>max($:coord:articles-a:list:published)",
  "updated": "<>$:coord:articles-a:list:%more:updated",
  "%notifying": "<>has($:coord)"
}

